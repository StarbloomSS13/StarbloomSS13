<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;datum&#x2F;bank_account - &#x2F;tg&#x2F; Station 13</title>
</head>
<body>
<header>
    <a href="index.html">&#x2F;tg&#x2F; Station 13</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="datum/bank_account.html#var">Var Details</a> - <a href="datum/bank_account.html#proc">Proc Details</a></header>
<main>
<h1>bank_account <aside>/<a href="datum.html">datum</a>/<a href="datum/bank_account.html">bank_account</a></aside>
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L3">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 3"/></a></h1>

<table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr>
            <tr><th><a href="datum/bank_account.html#var/account_balance">account_balance</a></th><td>How many credits are currently held in the bank account.</td></tr>
            <tr><th><a href="datum/bank_account.html#var/account_holder">account_holder</a></th><td>Name listed on the account, reflected on the ID card.</td></tr>
            <tr><th><a href="datum/bank_account.html#var/account_id">account_id</a></th><td>The Unique ID number code associated with the owner's bank account, assigned at round start.</td></tr>
            <tr><th><a href="datum/bank_account.html#var/account_job">account_job</a></th><td>The job datum of the account owner.</td></tr>
            <tr><th><a href="datum/bank_account.html#var/add_to_accounts">add_to_accounts</a></th><td>Should this ID be added to the global list of accounts? If true, will be subject to station-bound economy effects as well as income.</td></tr>
            <tr><th><a href="datum/bank_account.html#var/bank_cards">bank_cards</a></th><td>List of the physical ID card objects that are associated with this bank_account</td></tr>
            <tr><th><a href="datum/bank_account.html#var/being_dumped">being_dumped</a></th><td>Is there a CRAB 17 on the station draining funds? Prevents manual fund transfer. pink levels are rising</td></tr>
            <tr><th><a href="datum/bank_account.html#var/bounties">bounties</a></th><td>If player is currently picking a civilian bounty to do, these options are held here to prevent soft-resetting through the UI.</td></tr>
            <tr><th><a href="datum/bank_account.html#var/bounty_timer">bounty_timer</a></th><td>Cooldown timer on replacing a civilain bounty. Bounties can only be replaced once every 5 minutes.</td></tr>
            <tr><th><a href="datum/bank_account.html#var/civilian_bounty">civilian_bounty</a></th><td>Reference to the current civilian bounty that the account is working on.</td></tr>
            <tr><th><a href="datum/bank_account.html#var/payday_modifier">payday_modifier</a></th><td>If there are things effecting how much income a player will get, it's reflected here 1 is standard for humans.</td></tr>
            <tr><th><a href="datum/bank_account.html#var/replaceable">replaceable</a></th><td>Can this account be replaced? Set to true for default IDs not recognized by the station.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="datum/bank_account.html#proc/_adjust_money">_adjust_money</a></th><td>Performs the math component of adjusting a bank account balance.</td></tr>
            <tr><th><a href="datum/bank_account.html#proc/adjust_money">adjust_money</a></th><td>Adjusts the balance of a bank_account as well as sanitizes the numerical input.</td></tr>
            <tr><th><a href="datum/bank_account.html#proc/bank_card_talk">bank_card_talk</a></th><td>This sends a local chat message to the owner of a bank account, on all ID cards registered to the bank_account.
If not held, sends out a message to all nearby players.</td></tr>
            <tr><th><a href="datum/bank_account.html#proc/bounty_num">bounty_num</a></th><td>Returns the required item count, or required chemical units required to submit a bounty.</td></tr>
            <tr><th><a href="datum/bank_account.html#proc/bounty_text">bounty_text</a></th><td>Returns a string with the civilian bounty's description on it.</td></tr>
            <tr><th><a href="datum/bank_account.html#proc/bounty_value">bounty_value</a></th><td>Produces the value of the account's civilian bounty reward, if able.</td></tr>
            <tr><th><a href="datum/bank_account.html#proc/dumpeet">dumpeet</a></th><td>Sets the bank_account to behave as though a CRAB-17 event is happening.</td></tr>
            <tr><th><a href="datum/bank_account.html#proc/has_money">has_money</a></th><td>Returns TRUE if a bank account has more than or equal to the amount, amt.
Otherwise returns false.</td></tr>
            <tr><th><a href="datum/bank_account.html#proc/payday">payday</a></th><td>This proc handles passive income gain for players, using their job's paycheck value.
Funds are taken from the parent department account to hand out to players. This can result in payment brown-outs if too many people are in one department.</td></tr>
            <tr><th><a href="datum/bank_account.html#proc/reset_bounty">reset_bounty</a></th><td>Performs house-cleaning on variables when a civilian bounty is replaced, or, when a bounty is claimed.</td></tr>
            <tr><th><a href="datum/bank_account.html#proc/setup_unique_account_id">setup_unique_account_id</a></th><td>Proc guarantees the account_id possesses a unique number.
If it doesn't, it tries to find a unique alternative.
It then adds it to the <code>SSeconomy.bank_accounts_by_id</code> global list.</td></tr>
            <tr><th><a href="datum/bank_account.html#proc/transfer_money">transfer_money</a></th><td>Performs a transfer of credits to the bank_account datum from another bank account.
*datum/bank_account/from: The bank account that is sending the credits to this bank_account datum.
*amount: the quantity of credits that are being moved between bank_account datums.</td></tr></table>
    <h2 id="var">Var Details</h2><h3 id="var/account_balance"><aside class="declaration">var </aside>account_balance
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L7">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 7"/></a></h3>
        <p>How many credits are currently held in the bank account.</p><h3 id="var/account_holder"><aside class="declaration">var </aside>account_holder
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L5">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 5"/></a></h3>
        <p>Name listed on the account, reflected on the ID card.</p><h3 id="var/account_id"><aside class="declaration">var </aside>account_id
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L17">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 17"/></a></h3>
        <p>The Unique ID number code associated with the owner's bank account, assigned at round start.</p><h3 id="var/account_job"><aside class="declaration">var </aside>account_job
            <aside>&ndash; /<a href="datum.html">datum</a>/<a href="datum/job.html">job</a></aside>
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L11">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 11"/></a></h3>
        <p>The job datum of the account owner.</p><h3 id="var/add_to_accounts"><aside class="declaration">var </aside>add_to_accounts
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L15">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 15"/></a></h3>
        <p>Should this ID be added to the global list of accounts? If true, will be subject to station-bound economy effects as well as income.</p><h3 id="var/bank_cards"><aside class="declaration">var </aside>bank_cards
            <aside>&ndash; /list</aside>
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L13">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 13"/></a></h3>
        <p>List of the physical ID card objects that are associated with this bank_account</p><h3 id="var/being_dumped"><aside class="declaration">var </aside>being_dumped
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L19">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 19"/></a></h3>
        <p>Is there a CRAB 17 on the station draining funds? Prevents manual fund transfer. pink levels are rising</p><h3 id="var/bounties"><aside class="declaration">var </aside>bounties
            <aside>&ndash; /list/datum/bounty</aside>
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L23">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 23"/></a></h3>
        <p>If player is currently picking a civilian bounty to do, these options are held here to prevent soft-resetting through the UI.</p><h3 id="var/bounty_timer"><aside class="declaration">var </aside>bounty_timer
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L27">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 27"/></a></h3>
        <p>Cooldown timer on replacing a civilain bounty. Bounties can only be replaced once every 5 minutes.</p><h3 id="var/civilian_bounty"><aside class="declaration">var </aside>civilian_bounty
            <aside>&ndash; /<a href="datum.html">datum</a>/<a href="datum/bounty.html">bounty</a></aside>
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L21">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 21"/></a></h3>
        <p>Reference to the current civilian bounty that the account is working on.</p><h3 id="var/payday_modifier"><aside class="declaration">var </aside>payday_modifier
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L9">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 9"/></a></h3>
        <p>If there are things effecting how much income a player will get, it's reflected here 1 is standard for humans.</p><h3 id="var/replaceable"><aside class="declaration">var </aside>replaceable
            <aside>&ndash; </aside>
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L25">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 25"/></a></h3>
        <p>Can this account be replaced? Set to true for default IDs not recognized by the station.</p><h2 id="proc">Proc Details</h2><h3 id="proc/_adjust_money"><aside class="declaration">proc </aside>_adjust_money<aside>(amt) 
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L83">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 83"/></a></aside>
        </h3>
        <p>Performs the math component of adjusting a bank account balance.</p><h3 id="proc/adjust_money"><aside class="declaration">proc </aside>adjust_money<aside>(amt) 
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L98">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 98"/></a></aside>
        </h3>
        <p>Adjusts the balance of a bank_account as well as sanitizes the numerical input.</p><h3 id="proc/bank_card_talk"><aside class="declaration">proc </aside>bank_card_talk<aside>(message, force) 
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L147">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 147"/></a></aside>
        </h3>
        <p>This sends a local chat message to the owner of a bank account, on all ID cards registered to the bank_account.
If not held, sends out a message to all nearby players.</p><h3 id="proc/bounty_num"><aside class="declaration">proc </aside>bounty_num<aside>() 
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L194">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 194"/></a></aside>
        </h3>
        <p>Returns the required item count, or required chemical units required to submit a bounty.</p><h3 id="proc/bounty_text"><aside class="declaration">proc </aside>bounty_text<aside>() 
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L185">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 185"/></a></aside>
        </h3>
        <p>Returns a string with the civilian bounty's description on it.</p><h3 id="proc/bounty_value"><aside class="declaration">proc </aside>bounty_value<aside>() 
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L209">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 209"/></a></aside>
        </h3>
        <p>Produces the value of the account's civilian bounty reward, if able.</p><h3 id="proc/dumpeet"><aside class="declaration">proc </aside>dumpeet<aside>() 
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L77">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 77"/></a></aside>
        </h3>
        <p>Sets the bank_account to behave as though a CRAB-17 event is happening.</p><h3 id="proc/has_money"><aside class="declaration">proc </aside>has_money<aside>(amt) 
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L92">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 92"/></a></aside>
        </h3>
        <p>Returns TRUE if a bank account has more than or equal to the amount, amt.
Otherwise returns false.</p><h3 id="proc/payday"><aside class="declaration">proc </aside>payday<aside>(amt_of_paychecks, free) 
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L122">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 122"/></a></aside>
        </h3>
        <p>This proc handles passive income gain for players, using their job's paycheck value.
Funds are taken from the parent department account to hand out to players. This can result in payment brown-outs if too many people are in one department.</p><h3 id="proc/reset_bounty"><aside class="declaration">proc </aside>reset_bounty<aside>() 
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L217">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 217"/></a></aside>
        </h3>
        <p>Performs house-cleaning on variables when a civilian bounty is replaced, or, when a bounty is claimed.</p><h3 id="proc/setup_unique_account_id"><aside class="declaration">proc </aside>setup_unique_account_id<aside>() 
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L46">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 46"/></a></aside>
        </h3>
        <p>Proc guarantees the account_id possesses a unique number.
If it doesn't, it tries to find a unique alternative.
It then adds it to the <code>SSeconomy.bank_accounts_by_id</code> global list.</p><h3 id="proc/transfer_money"><aside class="declaration">proc </aside>transfer_money<aside>(/<a href="datum.html">datum</a>/<a href="datum/bank_account.html">bank_account</a>/from, amount) 
        
    
            <a href="https://github.com/StarbloomSS13/StarbloomSS13/blob/735106d004478010a90a789c6f92a32fa3f4a2bf/code/modules/economy/account.dm#L109">
        <img src="git.png" width="16" height="16" title="code&#x2F;modules&#x2F;economy&#x2F;account.dm 109"/></a></aside>
        </h3>
        <p>Performs a transfer of credits to the bank_account datum from another bank account.
*datum/bank_account/from: The bank account that is sending the credits to this bank_account datum.
*amount: the quantity of credits that are being moved between bank_account datums.</p></main>
<footer>
    tgstation.dme
    <a href="https://github.com/StarbloomSS13/StarbloomSS13/tree/735106d004478010a90a789c6f92a32fa3f4a2bf">735106d</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/src/dmdoc/README.md">dmdoc 1.4.1</a></footer>
</body>
</html>
